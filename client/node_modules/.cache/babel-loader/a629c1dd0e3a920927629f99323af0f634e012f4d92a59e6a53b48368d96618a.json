{"ast":null,"code":"import React,{createContext,useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export const ItemsContext=/*#__PURE__*/createContext({items:[],totalPrice:0// setItems: () => {}\n});export const ItemsProvider=_ref=>{let{children}=_ref;const[items,setItems]=useState([]);const[totalPrice,setTotalPrice]=useState(0);useEffect(()=>{calculateTotalPrice();},[items]);const calculateTotalPrice=()=>{setTotalPrice(0);// const newTotalPrice = items.map((item) => (parseInt(totalPrice) + parseInt(item.item.newPrice)));\nconst newTotalPrice=items.reduce((total,item)=>total+item.newPrice*item.quantity,0);setTotalPrice(newTotalPrice);};const removeFromCart=indexToRemove=>{setItems(prevItems=>prevItems.filter((_,index)=>index!==indexToRemove));};const updateItemCart=newItem=>{// setItems(prevItems => prevItems.map((item, index) => index !== indexToUpdate ? item : newItem));\nsetItems(prevItems=>{const newItems=[...prevItems];newItems[newItem.indexInCart]=newItem;return newItems;});};const resetItems=()=>{setItems([]);};return/*#__PURE__*/_jsx(ItemsContext.Provider,{value:{items,setItems,totalPrice,removeFromCart,updateItemCart,resetItems},children:children});};","map":{"version":3,"names":["React","createContext","useEffect","useState","jsx","_jsx","ItemsContext","items","totalPrice","ItemsProvider","_ref","children","setItems","setTotalPrice","calculateTotalPrice","newTotalPrice","reduce","total","item","newPrice","quantity","removeFromCart","indexToRemove","prevItems","filter","_","index","updateItemCart","newItem","newItems","indexInCart","resetItems","Provider","value"],"sources":["C:/Users/nisim/Desktop/digital_menu_front_and_back/client/src/components/itemsContext.jsx"],"sourcesContent":["import React, { createContext, useEffect, useState } from 'react';\r\n\r\nexport const ItemsContext = createContext({\r\n  items: [],\r\n  totalPrice: 0,\r\n  // setItems: () => {}\r\n});\r\n\r\nexport const ItemsProvider = ({ children }) => {\r\n  const [items, setItems] = useState([]);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n\r\n  useEffect(() => {\r\n    calculateTotalPrice();\r\n  }, [items]);\r\n\r\n  const calculateTotalPrice = () => {\r\n    setTotalPrice(0);\r\n    // const newTotalPrice = items.map((item) => (parseInt(totalPrice) + parseInt(item.item.newPrice)));\r\n    const newTotalPrice = items.reduce((total, item) => total + item.newPrice * item.quantity, 0);\r\n    setTotalPrice(newTotalPrice);\r\n  };\r\n\r\n  const removeFromCart = (indexToRemove) => {\r\n    setItems(prevItems => prevItems.filter((_, index) => index !== indexToRemove));\r\n  };\r\n\r\n  const updateItemCart = (newItem) => {\r\n    // setItems(prevItems => prevItems.map((item, index) => index !== indexToUpdate ? item : newItem));\r\n    setItems(prevItems => {\r\n      const newItems = [...prevItems];\r\n      newItems[newItem.indexInCart] = newItem;\r\n      return newItems;\r\n    })\r\n  };\r\n\r\n  const resetItems = ()=>{\r\n    setItems([]);\r\n  }\r\n\r\n  return (\r\n    <ItemsContext.Provider value={{ items, setItems, totalPrice, removeFromCart, updateItemCart, resetItems }}>\r\n      {children}\r\n    </ItemsContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElE,MAAO,MAAM,CAAAC,YAAY,cAAGL,aAAa,CAAC,CACxCM,KAAK,CAAE,EAAE,CACTC,UAAU,CAAE,CACZ;AACF,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAC,aAAa,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACxC,KAAM,CAACH,KAAK,CAAEK,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACK,UAAU,CAAEK,aAAa,CAAC,CAAGV,QAAQ,CAAC,CAAC,CAAC,CAE/CD,SAAS,CAAC,IAAM,CACdY,mBAAmB,CAAC,CAAC,CACvB,CAAC,CAAE,CAACP,KAAK,CAAC,CAAC,CAEX,KAAM,CAAAO,mBAAmB,CAAGA,CAAA,GAAM,CAChCD,aAAa,CAAC,CAAC,CAAC,CAChB;AACA,KAAM,CAAAE,aAAa,CAAGR,KAAK,CAACS,MAAM,CAAC,CAACC,KAAK,CAAEC,IAAI,GAAKD,KAAK,CAAGC,IAAI,CAACC,QAAQ,CAAGD,IAAI,CAACE,QAAQ,CAAE,CAAC,CAAC,CAC7FP,aAAa,CAACE,aAAa,CAAC,CAC9B,CAAC,CAED,KAAM,CAAAM,cAAc,CAAIC,aAAa,EAAK,CACxCV,QAAQ,CAACW,SAAS,EAAIA,SAAS,CAACC,MAAM,CAAC,CAACC,CAAC,CAAEC,KAAK,GAAKA,KAAK,GAAKJ,aAAa,CAAC,CAAC,CAChF,CAAC,CAED,KAAM,CAAAK,cAAc,CAAIC,OAAO,EAAK,CAClC;AACAhB,QAAQ,CAACW,SAAS,EAAI,CACpB,KAAM,CAAAM,QAAQ,CAAG,CAAC,GAAGN,SAAS,CAAC,CAC/BM,QAAQ,CAACD,OAAO,CAACE,WAAW,CAAC,CAAGF,OAAO,CACvC,MAAO,CAAAC,QAAQ,CACjB,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAE,UAAU,CAAGA,CAAA,GAAI,CACrBnB,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,CAED,mBACEP,IAAA,CAACC,YAAY,CAAC0B,QAAQ,EAACC,KAAK,CAAE,CAAE1B,KAAK,CAAEK,QAAQ,CAAEJ,UAAU,CAAEa,cAAc,CAAEM,cAAc,CAAEI,UAAW,CAAE,CAAApB,QAAA,CACvGA,QAAQ,CACY,CAAC,CAE5B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}