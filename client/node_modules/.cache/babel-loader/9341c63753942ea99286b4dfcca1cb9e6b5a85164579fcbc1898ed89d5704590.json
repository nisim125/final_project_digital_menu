{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const maxTitleLength=35;const maxDescriptionLength=50;export default function CurrentMenuItems(props){const[data,setData]=useState(null);// שמירת הנתונים שהתקבלו\nconst[loading,setLoading]=useState(false);// שמירה האם הטעינה מתבצעת\nconst[error,setError]=useState(null);// שמירה על הודעות שגיאה\nif(loading){console.log(\"טוען נתוני מנה מהשרת\");}if(error){console.log(\"חלה שגיאה בטעינת נתוני המנה מהשרת\");}function onClickingItem(item,menuTitle,id){// קריאת ה-API באמצעות fetch\nfetch('http://localhost:8080/api/item?id='+id,{method:'GET',headers:{'Content-Type':'application/json'}}).then(response=>{if(!response.ok){throw new Error('response was not ok');}return response.json();// המרת התגובה ל-JSON\n}).then(data=>{setData(data);// שמירת המידע שהתקבל\nsetLoading(false);// הפסקת מצב הטעינה\nprops.open(item,menuTitle,data,1,false);}).catch(error=>{setError(error.message);// שמירת הודעת השגיאה אם יש בעיה\nsetLoading(false);// הפסקת מצב הטעינה\n});}return/*#__PURE__*/_jsx(\"div\",{id:\"current_menu_items\",className:\"vertical_container\",children:props.subMenu.items.map((item,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"horizontal_container card item_container\",onClick:()=>{onClickingItem(item,props.subMenu.subMenu.title,item.id);},children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:\"232px\",height:\"100%\",display:\"flex\",flexDirection:\"column\",justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"subHeading text_right\",children:item.title.length>maxTitleLength?{...item}.title.substring(0,maxTitleLength)+'...':item.title}),/*#__PURE__*/_jsx(\"p\",{className:\"content text_right\",children:(item.description&&item.description.length)>maxDescriptionLength?{...item}.description.substring(0,maxDescriptionLength)+'...':item.description})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"boldContent text_right\",children:[\" \",item.price,\" \\u20AA \"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item_image_cover_div\",style:{opacity:item.image_url?1:0.2},children:/*#__PURE__*/_jsx(\"img\",{className:\"item_img_cover\",src:item.image_url?`../../images/items/${item.image_url}`:'../../images/iconLogo.png',alt:item.image_url?\"item image\":\"item image not found... logo instead\"})})]},item.title+i))});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","maxTitleLength","maxDescriptionLength","CurrentMenuItems","props","data","setData","loading","setLoading","error","setError","console","log","onClickingItem","item","menuTitle","id","fetch","method","headers","then","response","ok","Error","json","open","catch","message","className","children","subMenu","items","map","i","onClick","title","style","width","height","display","flexDirection","justifyContent","length","substring","description","price","opacity","image_url","src","alt"],"sources":["C:/Users/nisim/Desktop/digital_menu_front_and_back/client/src/components/CurrentMenuItems.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\n\r\nconst maxTitleLength = 35;\r\nconst maxDescriptionLength = 50;\r\n\r\nexport default function CurrentMenuItems(props) {\r\n\r\n    const [data, setData] = useState(null); // שמירת הנתונים שהתקבלו\r\n    const [loading, setLoading] = useState(false); // שמירה האם הטעינה מתבצעת\r\n    const [error, setError] = useState(null); // שמירה על הודעות שגיאה\r\n\r\n    if (loading) {\r\n        console.log(\"טוען נתוני מנה מהשרת\");\r\n    }\r\n\r\n    if (error) {\r\n        console.log(\"חלה שגיאה בטעינת נתוני המנה מהשרת\");\r\n    }\r\n\r\n    function onClickingItem(item, menuTitle, id) {\r\n        // קריאת ה-API באמצעות fetch\r\n        fetch('http://localhost:8080/api/item?id=' + id, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        })\r\n            .then(response => {\r\n                if (!response.ok) {\r\n                    throw new Error('response was not ok');\r\n                }\r\n                return response.json(); // המרת התגובה ל-JSON\r\n            })\r\n            .then(data => {\r\n                setData(data); // שמירת המידע שהתקבל\r\n                setLoading(false); // הפסקת מצב הטעינה\r\n                props.open(item, menuTitle, data, 1, false);\r\n            })\r\n            .catch(error => {\r\n                setError(error.message); // שמירת הודעת השגיאה אם יש בעיה\r\n                setLoading(false); // הפסקת מצב הטעינה\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div id=\"current_menu_items\" className=\"vertical_container\">\r\n            {props.subMenu.items.map((item, i) => (\r\n\r\n                <div key={item.title + i}\r\n                    className=\"horizontal_container card item_container\"\r\n                    onClick={() => {\r\n                        onClickingItem(item, props.subMenu.subMenu.title, item.id)\r\n                    }}>\r\n                    <div style={{\r\n                        width: \"232px\",\r\n                        height: \"100%\",\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\",\r\n                        justifyContent: \"space-between\",\r\n                    }}>\r\n                        <div>\r\n                            <p className=\"subHeading text_right\">\r\n                                {item.title.length > maxTitleLength ? { ...item }.title.substring(0, maxTitleLength) + '...' : item.title}\r\n                            </p>\r\n\r\n                            <p className=\"content text_right\">\r\n                                {(item.description && item.description.length) > maxDescriptionLength ? { ...item }.description.substring(0, maxDescriptionLength) + '...' : item.description}\r\n                            </p>\r\n                        </div>\r\n                        <div>\r\n                            <p className=\"boldContent text_right\"> {item.price} ₪ </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div\r\n                        className='item_image_cover_div'\r\n                        style={{ opacity: item.image_url ? 1 : 0.2 }}>\r\n                        <img\r\n                            className='item_img_cover'\r\n                            src={item.image_url ? `../../images/items/${item.image_url}` : '../../images/iconLogo.png'}\r\n                            alt={item.image_url ? \"item image\" : \"item image not found... logo instead\"} />\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            ))}\r\n\r\n        </div>\r\n\r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}